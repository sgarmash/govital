"use strict";$(function(){var e=[{input:$("#user__name"),message:"This field is required"},{input:$("#user__phone"),message:"This field is required"},{input:$("#user__country"),message:"This field is required"},{input:$("#user__state"),message:"This field is required"}],n=$(".contact__file-input"),a=$(".contact__preview"),s=a.find(".contact__preview-name"),t=a.find(".contact__preview-remove");$(".button__next").on("click",function(){(function(){var n=!0;return $(".error").remove(),e.forEach(function(e){return e.input.removeClass("invalid")}),e.forEach(function(e){var t=e.input,i=e.message;""===t.val()&&(t.addClass("invalid").after($("<span>",{text:i,class:"error"})),n=!1)}),n})()&&$(".contact__steps").each(function(){"next"===$(this).data().id&&$(this).removeClass("hidden").addClass("active").slideDown(250),"first"===$(this).data().id&&$(this).addClass("hidden").slideUp(250)})}),$(".button__back").on("click",function(){$(".contact__steps").map(function(){"next"===$(this).data().id&&$(this).removeClass("active").addClass("hidden").slideUp(250),"first"===$(this).data().id&&$(this).addClass("active").slideDown(250)})}),e.forEach(function(e){e.input.on("focus",function(){$(this).removeClass("invalid"),$(this).siblings().remove()})}),$("#user__phone").on("input",function(e){!function(e){var t=e.target,i=t.value;/^[0-9+]+$/.test(i)||(t.value=i.slice(0,-1))}(e)}),n.on("change",function(){var e=n[0].files[0];if(e){if(["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/rtf","text/plain"].includes(e.type))if(e.size<=10485760){a.show();var t=$("<a>").attr("href",URL.createObjectURL(e)).text(e.name),i=function(e){var t=["B","KB","MB","GB","TB"],i=0;for(;1024<=e&&i<t.length-1;)e/=1024,i++;return e.toFixed(2)+" "+t[i]}(e.size)+" | "+function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],i=e.getDate(),n=e.getFullYear();return"".concat(t," ").concat(i," ").concat(n)}(e.lastModifiedDate);s.append(t),a.find(".contact__file-size").remove(),a.append($("<p>").addClass("contact__file-size").text(i)),n.parent().hide()}else alert("File size must be up to 10MB."),n.val("");else alert("Invalid file format. Allowed formats: .doc, .docx, .rtf, .txt"),n.val("")}else a.hide(),n.parent().show()}),t.on("click",function(){n.val(""),a.hide(),s.find("a").remove(),n.parent().show()}),$("#contact__form").on("submit",function(e){e.preventDefault();var t=new FormData(e.target),i={phone:t.get("user__phone"),city:t.get("user__state"),country:t.get("user__country"),name:t.get("user__name")},n=[];$(".field__questions").each(function(){n.push({question:$(this).closest(".contact__answer-row").find(".contact__label").text().trim(),answer:$(this).val().trim()})}),n.push({question:"Additional area",answer:$("#contact__area").val().trim()});var a=t.get("type__file"),s=a instanceof File?{name:a.name,format:a.name.split(".").pop().toUpperCase(),size:a.size}:null,o={contactInfo:i,questions:n,file:s};$.ajax({url:"https://my-json-server.typicode.com/Nezdara/form-fake-server/data",method:"POST",data:JSON.stringify(o),contentType:"application/json",success:function(e){alert(JSON.stringify(e))},error:function(e,t,i){alert("Error sending form data")}})}),$(".tooltip").tooltip({tooltipClass:"tooltip",position:{my:"right center",at:"left-10 center"}})});